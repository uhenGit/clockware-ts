(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/clock.159c1397.svg"},29:function(e,t,a){e.exports=a(40)},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),c=a.n(r),o=a(3),i=a(8),m=a(9),s=a(11),u=a(10),p=a(19),E=a(2),h=a(27),d=a.n(h),b=function(){return l.a.createElement("header",null,l.a.createElement(o.b,{to:"/"},l.a.createElement("img",{src:d.a,alt:"to home page"})),l.a.createElement("div",{className:"subheader_wrap"},l.a.createElement("h2",null,"Clockwise Clockware"),l.a.createElement("p",null,"Give us Your problem"),l.a.createElement("p",null,"and take a solution")))},g=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"home"},l.a.createElement("div",{className:"user_action"},l.a.createElement("h2",null,"Home Page"),l.a.createElement(o.b,{to:"/signin"},l.a.createElement("button",null,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c")),l.a.createElement("p",null,"\u0438\u043b\u0438"),l.a.createElement(o.b,{to:"login"},l.a.createElement("button",null,"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"))))}}]),a}(n.Component),f=a(12),v=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={mail:"",password:"",isLogIn:null},e.changeInput=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.formSubmit=function(t){t.preventDefault();var a={mail:e.state.mail,password:e.state.password};e.props.login(a.mail,a.password),e.setState({mail:"",password:""}),setTimeout((function(){console.log(e.props.isLogIn),e.setState({isLogIn:e.props.isLogIn})}),1e3)},e}return Object(m.a)(a,[{key:"render",value:function(){return this.state.isLogIn?l.a.createElement(E.a,{to:"/newOrder"}):l.a.createElement("div",null,l.a.createElement("div",{className:"form_wrap"},l.a.createElement("h2",null,"Log In"),l.a.createElement("form",{onSubmit:this.formSubmit},l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email:"),l.a.createElement("input",{type:"email",name:"mail",placeholder:"email",value:this.state.mail,onChange:this.changeInput})),l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"),l.a.createElement("input",{type:"password",name:"password",placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c",value:this.state.password,onChange:this.changeInput})),l.a.createElement("div",{className:"btn_wrap"},l.a.createElement("button",{type:"submit"},"Log In"),l.a.createElement(o.b,{to:"/"},l.a.createElement("button",null,"\u041e\u0442\u043c\u0435\u043d\u0430"))),l.a.createElement("div",{className:"btn_wrap"},l.a.createElement("span",null,"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"),l.a.createElement(o.b,{to:"/signin"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c")))))}}]),a}(n.Component),y=Object(p.b)((function(e){return{isLogIn:e.clients.isAuth}}),{login:function(e,t){return function(a){var n=JSON.stringify({mail:e,password:t});fetch("/clients/login",{method:"POST",headers:{"Content-type":"application/json"},body:n}).then((function(e){return 400===e.status?alert("invalid credentials"):e.json()})).then((function(e){console.log("action data: ",e),a({type:"LOGIN",isAuth:!0}),localStorage.setItem("user",JSON.stringify(e))})).catch((function(e){return console.log("redux login error: ",e)}))}}})(v),O=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={name:"",mail:"",password:"",borderColor:""},e.changeInput=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value)),e.state.name.length<3?e.setState({borderColor:"red"}):e.setState({borderColor:"green"})},e.formSubmit=function(t){if(t.preventDefault(),e.state.name.length<3)return alert("\u0438\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432");e.setState({name:"",mail:"",password:""})},e}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"form_wrap"},l.a.createElement("h2",null,"Sign In"),l.a.createElement("form",{onSubmit:this.formSubmit},l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f:"),l.a.createElement("span",{className:"secondary"},"\u043d\u0435 \u043a\u043e\u0440\u043e\u0447\u0435 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),l.a.createElement("input",{style:{borderColor:this.state.borderColor},type:"text",name:"name",placeholder:"\u043b\u043e\u0433\u0438\u043d",value:this.state.name,onChange:this.changeInput})),l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email:"),l.a.createElement("input",{type:"email",name:"mail",placeholder:"email",value:this.state.mail,onChange:this.changeInput})),l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"),l.a.createElement("input",{type:"password",name:"password",placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c",value:this.state.password,onChange:this.changeInput})),l.a.createElement("div",{className:"btn_wrap"},l.a.createElement("button",{type:"submit"},"Sign In"),l.a.createElement(o.b,{to:"/"},l.a.createElement("button",null,"\u041e\u0442\u043c\u0435\u043d\u0430"))),l.a.createElement("div",{className:"btn_wrap"},l.a.createElement("span",null,"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"),l.a.createElement(o.b,{to:"/login"},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435")))))}}]),a}(n.Component),w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={name:"",mail:"",city:"",clock_size:"",date:"",time:""},e.handleInput=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.formSubmit=function(t){t.preventDefault(),console.log(e.state)},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){if(!localStorage.getItem("user"))return l.a.createElement(E.a,{to:"/login"});var e=JSON.parse(localStorage.getItem("user"));this.setState({name:e.user.name,mail:e.user.mail,city:e.user.city})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"form_wrap"},l.a.createElement("h2",null,"\u0424\u043e\u0440\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430"),l.a.createElement("form",{onSubmit:this.formSubmit},l.a.createElement("label",null,l.a.createElement("span",null,"\u0418\u043c\u044f:"),l.a.createElement("input",{type:"text",disabled:!0,placeholder:this.state.name})),l.a.createElement("label",null,l.a.createElement("span",null,"Email:"),l.a.createElement("input",{type:"text",disabled:!0,placeholder:this.state.mail})),l.a.createElement("label",null,l.a.createElement("span",null,"\u0413\u043e\u0440\u043e\u0434:"),l.a.createElement("input",{type:"text",disabled:!0,placeholder:this.state.city})),l.a.createElement("label",null,l.a.createElement("span",null,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0447\u0430\u0441\u043e\u0432:"),l.a.createElement("select",{name:"clock_size",onChange:this.handleInput},l.a.createElement("option",null),l.a.createElement("option",{value:"sm"},"small"),l.a.createElement("option",{value:"med"},"medium"),l.a.createElement("option",{value:"lg"},"large"))),l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443:"),l.a.createElement("input",{type:"date",name:"date",value:this.state.date,onChange:this.handleInput})),l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f:"),l.a.createElement("span",{className:"secondary"},"\u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0447\u0447.\u043c\u043c"),l.a.createElement("input",{type:"text",name:"time",placeholder:"14.00",value:this.state.time,onChange:this.handleInput})),l.a.createElement("div",{className:"btn_wrap"},l.a.createElement("button",{type:"submit"},"Send"),l.a.createElement(o.b,{to:"/"},l.a.createElement("button",null,"\u041e\u0442\u043c\u0435\u043d\u0430"))))))}}]),a}(n.Component),j=a(13),S=a(28),I=a(16),C={clients:[],client:{}},N=Object(j.c)({clients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CLIENTS":return Object(I.a)(Object(I.a)({},e),{},{clients:t.payload});case"LOGIN":return Object(I.a)(Object(I.a)({},e),{},{isAuth:!0,client:t.payload});default:return e}}}),k=[S.a],_=Object(j.d)(N,{},j.a.apply(void 0,k)),L=(a(39),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement(p.a,{store:_},l.a.createElement(b,null),l.a.createElement(E.d,null,l.a.createElement(E.b,{exact:!0,path:"/",component:g}),l.a.createElement(E.b,{path:"/login",component:y}),l.a.createElement(E.b,{path:"/signin",component:O}),l.a.createElement(E.b,{path:"/newOrder",component:w})))}}]),a}(n.Component));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o.a,null,l.a.createElement(L,null))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.73a4f0a9.chunk.js.map