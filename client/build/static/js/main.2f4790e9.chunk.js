(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/clock.159c1397.svg"},29:function(e,t,a){e.exports=a(40)},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(18),c=a.n(r),i=a(3),o=a(8),s=a(9),m=a(11),u=a(10),p=a(16),d=a(2),E=a(27),h=a.n(E),b=function(){return l.a.createElement("header",null,l.a.createElement(i.b,{to:"/"},l.a.createElement("img",{src:h.a,alt:"to home page"})),l.a.createElement("div",{className:"subheader_wrap"},l.a.createElement("h2",null,"Clockwise Clockware"),l.a.createElement("p",null,"Give us Your problem"),l.a.createElement("p",null,"and take a solution")))},g=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"home"},l.a.createElement("div",{className:"user_action"},l.a.createElement("h2",null,"Home Page"),l.a.createElement(i.b,{to:"/signin"},l.a.createElement("button",null,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c")),l.a.createElement("p",null,"\u0438\u043b\u0438"),l.a.createElement(i.b,{to:"login"},l.a.createElement("button",null,"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"))))}}]),a}(n.Component),f=a(13),y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={mail:"",password:"",isLogIn:null},e.changeInput=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.formSubmit=function(t){t.preventDefault();var a={mail:e.state.mail,password:e.state.password};e.props.login(a.mail,a.password),e.setState({mail:"",password:""}),setTimeout((function(){console.log(e.props.isLogIn),e.setState({isLogIn:e.props.isLogIn})}),1e3)},e}return Object(s.a)(a,[{key:"render",value:function(){return this.state.isLogIn?l.a.createElement(d.a,{to:"/newOrder"}):l.a.createElement("div",null,l.a.createElement("div",{className:"form_wrap"},l.a.createElement("h2",null,"Log In"),l.a.createElement("form",{onSubmit:this.formSubmit},l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email:"),l.a.createElement("input",{type:"email",name:"mail",placeholder:"email",value:this.state.mail,onChange:this.changeInput})),l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"),l.a.createElement("input",{type:"password",name:"password",placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c",value:this.state.password,onChange:this.changeInput})),l.a.createElement("div",{className:"btn_wrap"},l.a.createElement("button",{type:"submit"},"Log In"),l.a.createElement(i.b,{to:"/"},l.a.createElement("button",null,"\u041e\u0442\u043c\u0435\u043d\u0430"))),l.a.createElement("div",{className:"btn_wrap"},l.a.createElement("span",null,"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"),l.a.createElement(i.b,{to:"/signin"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c")))))}}]),a}(n.Component),v=Object(p.b)((function(e){return{isLogIn:e.clients.isAuth,data:e.clients.client}}),{login:function(e,t){return function(a){var n=JSON.stringify({mail:e,password:t});fetch("/clients/login",{method:"POST",headers:{"Content-type":"application/json"},body:n}).then((function(e){return 400===e.status?(a({type:"LOGIN_ERROR",isAuth:!1}),alert("invalid credentials"),!1):e.json()})).then((function(e){console.log("action data: ",e),a({type:"LOGIN",payload:e,isAuth:!0}),localStorage.setItem("user",JSON.stringify(e.token))})).catch((function(e){return console.log("redux login error: ",e)}))}}})(y),O=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={name:"",mail:"",city:"",password:"",borderColor:"",isSignin:!1},e.changeInput=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value)),e.state.name.length<3?e.setState({borderColor:"red"}):e.setState({borderColor:"green"})},e.formSubmit=function(t){if(t.preventDefault(),e.state.name.length<4)return alert("\u0438\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432");if(""===e.state.mail||""===e.state.password||""===e.state.name||""===e.state.city)return alert("\u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b");var a={mail:e.state.mail,password:e.state.password,name:e.state.name,city:e.state.city};e.props.signin(a.mail,a.name,a.city,a.password),setTimeout((function(){console.log("signin client: ",e.props.client),e.props.client.isSignin?(alert(e.props.client.msg),e.setState({isSignin:!0})):alert(e.props.client.msg)}),1e3),e.setState({name:"",mail:"",city:"",password:""})},e}return Object(s.a)(a,[{key:"render",value:function(){return this.state.isSignin?l.a.createElement(d.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement("div",{className:"form_wrap"},l.a.createElement("h2",null,"Sign In"),l.a.createElement("form",{onSubmit:this.formSubmit},l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f:"),l.a.createElement("span",{className:"secondary"},"\u043d\u0435 \u043a\u043e\u0440\u043e\u0447\u0435 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),l.a.createElement("input",{style:{borderColor:this.state.borderColor},type:"text",name:"name",placeholder:"\u043b\u043e\u0433\u0438\u043d",value:this.state.name,onChange:this.changeInput})),l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email:"),l.a.createElement("input",{type:"email",name:"mail",placeholder:"email",value:this.state.mail,onChange:this.changeInput})),l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434:"),l.a.createElement("input",{type:"text",name:"city",placeholder:"\u0433\u043e\u0440\u043e\u0434",value:this.state.city,onChange:this.changeInput})),l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"),l.a.createElement("input",{type:"password",name:"password",placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c",value:this.state.password,onChange:this.changeInput})),l.a.createElement("div",{className:"btn_wrap"},l.a.createElement("button",{type:"submit"},"Sign In"),l.a.createElement(i.b,{to:"/"},l.a.createElement("button",null,"\u041e\u0442\u043c\u0435\u043d\u0430"))),l.a.createElement("div",{className:"btn_wrap"},l.a.createElement("span",null,"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"),l.a.createElement(i.b,{to:"/login"},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435")))))}}]),a}(n.Component),j=Object(p.b)((function(e){return{client:e.clients.client}}),{signin:function(e,t,a,n){return function(l){var r=JSON.stringify({mail:e,name:t,city:a,password:n});fetch("/clients/register",{method:"POST",headers:{"Content-Type":"application/json"},body:r}).then((function(e){return e.json()})).then((function(e){console.log("redux sign in data: ",e),l({type:"POST_NEW_CLIENT",payload:e})})).catch((function(e){return console.log("redux sign in error: ",e)}))}}})(O),S=a(14),w=a(28),I=a(12),C={clients:[],client:{}},N=Object(S.c)({clients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CLIENTS":return Object(I.a)(Object(I.a)({},e),{},{clients:t.payload});case"LOGIN":return Object(I.a)(Object(I.a)({},e),{},{isAuth:!0,client:t.payload});case"LOGIN_ERROR":return Object(I.a)(Object(I.a)({},e),{},{isAuth:!1,client:t.payload});case"POST_NEW_CLIENT":return Object(I.a)(Object(I.a)({},e),{},{client:t.payload});default:return e}}}),_=[w.a],L=Object(S.d)(N,{},S.a.apply(void 0,_)),k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={name:"",mail:"",city:"",clock_size:"",date:"",time:""},e.handleInput=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.formSubmit=function(t){t.preventDefault(),console.log(e.state)},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){if(console.log("props from orderForm: ",L.getState().clients.client.user),!L.getState().clients.client.user)return l.a.createElement(d.a,{to:"/login"});var e=L.getState().clients.client.user;this.setState({name:e.name,mail:e.mail,city:e.city})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"form_wrap"},l.a.createElement("h2",null,"\u0424\u043e\u0440\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430"),l.a.createElement("form",{onSubmit:this.formSubmit},l.a.createElement("label",null,l.a.createElement("span",null,"\u0418\u043c\u044f:"),l.a.createElement("input",{type:"text",disabled:!0,placeholder:this.state.name})),l.a.createElement("label",null,l.a.createElement("span",null,"Email:"),l.a.createElement("input",{type:"text",disabled:!0,placeholder:this.state.mail})),l.a.createElement("label",null,l.a.createElement("span",null,"\u0413\u043e\u0440\u043e\u0434:"),l.a.createElement("input",{type:"text",disabled:!0,placeholder:this.state.city})),l.a.createElement("label",null,l.a.createElement("span",null,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0447\u0430\u0441\u043e\u0432:"),l.a.createElement("select",{name:"clock_size",onChange:this.handleInput},l.a.createElement("option",null),l.a.createElement("option",{value:"sm"},"small"),l.a.createElement("option",{value:"med"},"medium"),l.a.createElement("option",{value:"lg"},"large"))),l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443:"),l.a.createElement("input",{type:"date",name:"date",value:this.state.date,onChange:this.handleInput})),l.a.createElement("label",null,l.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f:"),l.a.createElement("span",{className:"secondary"},"\u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0447\u0447.\u043c\u043c"),l.a.createElement("input",{type:"text",name:"time",placeholder:"14.00",value:this.state.time,onChange:this.handleInput})),l.a.createElement("div",{className:"btn_wrap"},l.a.createElement("button",{type:"submit"},"Send"),l.a.createElement(i.b,{to:"/"},l.a.createElement("button",null,"\u041e\u0442\u043c\u0435\u043d\u0430"))))))}}]),a}(n.Component),x=(a(39),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(p.a,{store:L},l.a.createElement(b,null),l.a.createElement(d.d,null,l.a.createElement(d.b,{exact:!0,path:"/",component:g}),l.a.createElement(d.b,{path:"/login",component:v}),l.a.createElement(d.b,{path:"/signin",component:j}),l.a.createElement(d.b,{path:"/newOrder",component:k})))}}]),a}(n.Component));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(i.a,null,l.a.createElement(x,null))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.2f4790e9.chunk.js.map